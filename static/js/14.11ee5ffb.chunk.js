(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[14],{124:function(e,t,r){},130:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(3),a=r(64),i=r.n(a),u=r(65),o=r(88),s=r(6),l=r(10),f=r(0),d=r(74),v=r(78),b=r(5),p=r.n(b),m=r(12),j=r(31),O=r(19);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}var x=f.createElement("path",{d:"M18.03 1.375L16.47.125-.031 20.75l16.5 20.625 1.562-1.25L2.53 20.75z"});function y(e,t){var r=e.title,n=e.titleId,c=h(e,["title","titleId"]);return f.createElement("svg",g({fill:"currentColor",width:18,height:42,viewBox:"0 0 18 42",ref:t,"aria-labelledby":n},c),r?f.createElement("title",{id:n},r):null,x)}var w=f.forwardRef(y);r.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}var I=f.createElement("path",{d:"M-.03 1.375L1.53.125l16.5 20.625-16.5 20.625-1.562-1.25 15.5-19.375z"});function E(e,t){var r=e.title,n=e.titleId,c=F(e,["title","titleId"]);return f.createElement("svg",_({fill:"currentColor",width:18,height:42,viewBox:"0 0 18 42",ref:t,"aria-labelledby":n},c),r?f.createElement("title",{id:n},r):null,I)}var R=f.forwardRef(E),k=(r.p,r(80)),P=r(75);r(124);function C(e,t,r,n){if(null!==t)return t;var c=r.length;return n>0?(e+1)%c:(e-1+c)%c}t.default=function(e){var t=e.width,r=e.height,a=e.images,b=e.placeholder,g=Object(l.a)(e,["width","height","images","placeholder"]),h=Object(f.useState)(!1),x=Object(s.a)(h,2),y=x[0],_=x[1],F=Object(f.useState)(0),I=Object(s.a)(F,2),E=I[0],M=I[1],S=Object(f.useState)(!1),A=Object(s.a)(S,2),N=A[0],D=A[1],L=Object(f.useState)(!0),U=Object(s.a)(L,2),q=U[0],z=U[1],B=Object(f.useState)(),J=Object(s.a)(B,2),T=J[0],H=J[1],V=Object(f.useState)(),K=Object(s.a)(V,2),G=K[0],Q=K[1],W=Object(f.useRef)(),X=Object(f.useRef)(),Y=Object(f.useRef)(),Z=Object(f.useRef)(),$=Object(f.useRef)(),ee=Object(f.useRef)(),te=Object(f.useRef)(),re=Object(f.useRef)(!1),ne=Object(f.useRef)(),ce=Object(f.useRef)(),ae=Object(f.useRef)(),ie=Object(m.h)(),ue=Object(m.d)(W,!0),oe=Object(f.useRef)(),se=Object(f.useRef)(),le=Object(f.useRef)(),fe="Slide ".concat(E+1," of ").concat(a.length,". ").concat(a[E].alt);Object(f.useEffect)((function(){return y&&(document.body.style.cursor="grabbing"),function(){document.body.style.cursor=""}}),[y]),Object(f.useEffect)((function(){var e=[t/-2,t/2,r/2,r/-2,1,1e3];return te.current=new d.Ob({canvas:W.current,antialias:!1,powerPreference:"high-performance"}),ee.current=Object(o.a)(d.db,e),$.current=new d.sb,te.current.setPixelRatio(2),te.current.setClearColor(1118481,1),te.current.setSize(t,r),te.current.domElement.style.width="100%",te.current.domElement.style.height="auto",$.current.background=new d.l(1118481),ee.current.position.z=1,function(){re.current=!1,Object(k.b)($.current),Object(k.a)(te.current)}}),[r,t]),Object(f.useEffect)((function(){var e=!0;return ue&&!N&&function(){var n=Object(u.a)(i.a.mark((function n(){var c,o,s,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=new d.Db,o=te.current.capabilities.getMaxAnisotropy(),s=a.map(function(){var e=Object(u.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)(t);case 2:return r=e.sent,e.next=5,c.loadAsync(r);case 5:return n=e.sent,e.next=8,te.current.initTexture(n);case 8:return n.encoding=d.Pb,n.minFilter=d.H,n.magFilter=d.H,n.anisotropy=o,n.generateMipmaps=!1,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=5,Promise.all(s);case 5:if(l=n.sent,e){n.next=8;break}return n.abrupt("return");case 8:Z.current=new d.tb({uniforms:{dispFactor:{type:"f",value:0},direction:{type:"f",value:1},currentImage:{type:"t",value:l[0]},nextImage:{type:"t",value:l[1]}},vertexShader:"\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform sampler2D currentImage;\n  uniform sampler2D nextImage;\n  uniform float dispFactor;\n  uniform float direction;\n\n  void main() {\n    vec2 uv = vUv;\n    vec4 _currentImage;\n    vec4 _nextImage;\n    float intensity = 0.6;\n\n    vec4 orig1 = texture2D(currentImage, uv);\n    vec4 orig2 = texture2D(nextImage, uv);\n\n    vec2 distortedPosition = vec2(\n      uv.x + direction * (dispFactor * (orig2.r * intensity)),\n      uv.y + direction * (dispFactor * (orig2 * intensity))\n    );\n\n    vec2 distortedPosition2 = vec2(\n      uv.x - direction * ((1.0 - dispFactor) * (orig1.r * intensity)),\n      uv.y - direction * ((1.0 - dispFactor) * (orig1 * intensity))\n    );\n\n    _currentImage = texture2D(currentImage, distortedPosition);\n    _nextImage = texture2D(nextImage, distortedPosition2);\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n    gl_FragColor = finalTexture;\n  }\n",transparent:!1,opacity:1}),Y.current=new d.gb(t,r,1),X.current=new d.R(Y.current,Z.current),X.current.position.set(0,0,0),$.current.add(X.current),D(!0),H(l),requestAnimationFrame((function(){te.current.render($.current,ee.current)}));case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[r,a,ue,N,t]);var de=Object(f.useCallback)((function(e){var t=e.index,r=e.direction,n=void 0===r?1:r;if(T){M(t);var c=Z.current.uniforms;c.nextImage.value=T[t],c.direction.value=n;var a=function(){c.currentImage.value=T[t],c.dispFactor.value=0,re.current=!1};if(ie||1===c.dispFactor.value)a(),requestAnimationFrame((function(){te.current.render($.current,ee.current)}));else{re.current=!0;var i=Object(v.g)(c.dispFactor.value,(function(e){c.dispFactor.value=e,1===e&&a()}));se.current=Object(v.e)({from:i.get(),to:1,velocity:i.getVelocity(),stiffness:100,damping:20}).start(i)}}}),[ie,T]),ve=Object(f.useCallback)((function(e){var t=e.direction,r=e.index,n=void 0===r?null:r,a=Object(l.a)(e,["direction","index"]);if(N){if(re.current)return cancelAnimationFrame(ae.current),void(ae.current=requestAnimationFrame((function(){return ve(Object(c.a)({direction:t,index:n},a))})));var i=C(E,n,T,t);de(Object(c.a)({index:i,direction:t},a))}}),[de,E,N,T]),be=Object(f.useCallback)((function(e){e!==E&&ve({direction:e>E?1:-1,index:e})}),[E,ve]);Object(f.useEffect)((function(){var e=function(){var e=W.current.getBoundingClientRect();Q(e)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),Object(f.useEffect)((function(){var e;return e=requestAnimationFrame((function t(){e=requestAnimationFrame(t),re.current&&te.current.render($.current,ee.current)})),function(){var t;cancelAnimationFrame(e),null===(t=se.current)||void 0===t||t.stop()}}),[]),Object(f.useEffect)((function(){if(b){var e=function(){z(!1)},t=oe.current;return t.addEventListener("transitionend",e),function(){t&&t.removeEventListener("transitionend",e)}}}),[b]);var pe=Object(f.useCallback)((function(e){if(!re.current&&Z.current&&T){var t=e.x;ce.current=t;var r=Math.abs(t),n=G.width;ne.current=t>0?-1:1;var c=1-(r-n)/n*-1,i=C(E,null,a,ne.current),u=Z.current.uniforms,o=Math.min(Math.max(c,0),1);u.currentImage.value=T[E],u.nextImage.value=T[i],u.direction.value=ne.current,ie||(u.dispFactor.value=o),requestAnimationFrame((function(){te.current.render($.current,ee.current)}))}}),[G,E,a,ie,T]),me=Object(f.useCallback)((function(){if(Z.current){var e=Z.current.uniforms,t=1e3*(1-e.dispFactor.value),r=Math.abs(ce.current),n=.2*G.width;ce.current=0,re.current||0!==r&&r&&(r>n?ve({duration:t,direction:ne.current}):(e.currentImage.value=e.nextImage.value,e.nextImage.value=e.currentImage.value,e.dispFactor.value=1-e.dispFactor.value,ve({direction:-1*ne.current,index:E})))}}),[G,E,ve]);Object(f.useEffect)((function(){var e,t=Object(v.g)({x:0,y:0},(function(e){pe(e)})),r=Object(v.c)(le.current,"mousedown touchstart").start((function(r){_(!0),r.preventDefault(),e=Object(v.d)({x:0,y:0}).start(t)})),n=Object(v.c)(document,"mouseup touchend").start((function(){var t;_(!1),me(),null===(t=e)||void 0===t||t.stop()}));return function(){var t;r.stop(),n.stop(),null===(t=e)||void 0===t||t.stop()}}),[me,pe]);return Object(n.jsxs)("div",Object(c.a)(Object(c.a)({className:"carousel",onKeyDown:function(e){var t={ArrowRight:function(){return ve({direction:1})},ArrowLeft:function(){return ve({direction:-1})}}[e.key];t&&t()}},g),{},{children:[Object(n.jsxs)("div",{className:"carousel__content",children:[Object(n.jsxs)("div",{className:p()("carousel__image-wrapper",{"carousel__image-wrapper--dragging":y}),ref:le,children:[Object(n.jsx)("div",{"aria-atomic":!0,className:"carousel__canvas-wrapper","aria-live":"polite","aria-label":fe,role:"img",children:Object(n.jsx)("canvas",{"aria-hidden":!0,className:"carousel__canvas",ref:W})}),q&&b&&Object(n.jsx)("img",{"aria-hidden":!0,className:p()("carousel__placeholder",{"carousel__placeholder--loaded":!j.a&&N&&T}),src:b,ref:oe,alt:"",role:"presentation"})]}),Object(n.jsx)("button",{className:"carousel__button carousel__button--prev","aria-label":"Previous slide",onClick:function(){return ve({direction:-1})},onMouseUp:O.a,children:Object(n.jsx)(w,{})}),Object(n.jsx)("button",{className:"carousel__button carousel__button--next","aria-label":"Next slide",onClick:function(){return ve({direction:1})},onMouseUp:O.a,children:Object(n.jsx)(R,{})})]}),Object(n.jsx)("div",{className:"carousel__nav",children:a.map((function(e,t){return Object(n.jsx)("button",{className:"carousel__nav-button",onClick:function(){return be(t)},onMouseUp:O.a,"aria-label":"Jump to slide ".concat(t+1),"aria-pressed":t===E},e.alt)}))})]}))}},80:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r(82),c=function(e){e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)a(e.material);else{var t,r=Object(n.a)(e.material);try{for(r.s();!(t=r.n()).done;){var c=t.value;a(c)}}catch(i){r.e(i)}finally{r.f()}}}))},a=function(e){e.dispose();for(var t=0,r=Object.keys(e);t<r.length;t++){var n=e[r[t]];n&&"object"===typeof n&&"minFilter"in n&&n.dispose()}},i=function(e){e.dispose(),e.forceContextLoss(),e=null},u=function(e){var t,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;c.parent.remove(c)}}catch(a){r.e(a)}finally{r.f()}}},88:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(93),c=r(95);function a(e,t,r){return(a=Object(c.a)()?Reflect.construct:function(e,t,r){var c=[null];c.push.apply(c,t);var a=new(Function.bind.apply(e,c));return r&&Object(n.a)(a,r.prototype),a}).apply(null,arguments)}}}]);
//# sourceMappingURL=14.11ee5ffb.chunk.js.map